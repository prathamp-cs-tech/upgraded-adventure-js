<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Variable exercises</title>
    <style>
        body{
            background-color: rgb(25,25,25);
            color:white;
            font-family: Arial;
        }
        .title{
            font-size: 30px;
            font-weight:bold;
        }

        .move{
            background: transparent;
            border:3px solid white;
            border-radius:50%;   
            height:100px;
            width:100px;
        }
        img{
            height:50px;
            margin:1em;
            
        }
    </style>
</head>
<body>
    <div>
        <p class="title">Rock Paper Scissors</p>
        <button onclick="
            playGame('Rock');
            " class="move"><img class="move-icon" src="src/rock.png"></button>
        <button onclick="
            playGame('Paper');
            " class="move"><img class="move-icon" src="src/paper.png"></button>
        <button onclick="
            playGame('Scissors');
            " class="move"><img class="move-icon" src="src/scissor.png"></button>

        <p class="js-result"></p>
        <p class="js-moves"></p>
        <p class="js-score"></p>
            

        <button onclick="
            score.ties=0;
            score.wins=0;
            score.losses=0;
            localStorage.removeItem('score')
            updateScoreElement();
            ">Reset score</button>
    </div>
    <script>
        const score=JSON.parse(localStorage.getItem('score'))||{wins:0,losses:0,ties:0};

        updateScoreElement();

        function playGame(playerMove){
            const ai=pickComputerMove();
            let result='';
            if(playerMove==='Scissors'){
                if (ai==='Scissors'){
                result='Tie.';
            }
            else if (ai==='Rock'){
                result='You Lose.';
            }
            else if(ai==='Paper'){
                result='You Win.';
            }
            }
            else if(playerMove==='Rock'){
                if (ai==='Scissors'){
                result='You Win.';
            }
                else if (ai==='Rock'){
                result='Tie.';
            }
                else if(ai==='Paper'){
                result='You Lose.';
            }
            }
            else if(playerMove==='Paper'){
                if (ai==='Scissors'){
                result='You Lose.';
            }
            else if (ai==='Rock'){
                result='You Win.';
            }
            else if(ai==='Paper'){
                result='Tie.';
            }
            }
            if (result==='You Win.'){
                score.wins+=1;
            }
            else if (result==='You Lose.'){
                score.losses+=1;
            }
            else if (result==='Tie.'){
                score.ties+=1;
            }

            localStorage.setItem('score',JSON.stringify(score));

            updateScoreElement();

            document.querySelector('.js-result').innerHTML=result;

            document.querySelector('.js-moves').innerHTML=`You ${playerMove} - ${ai} AI`;

        }
        function pickComputerMove(){
            let ai='';
            const raN=Math.random()
            if (raN<=1/3){
                ai='Rock';}
            else if (raN<=2/3){
                ai='Paper';}
            else if (raN<=1){
                ai='Scissors';}
            return ai;
        }

        function updateScoreElement(){
            document.querySelector('.js-score').innerHTML=`Wins:${score.wins}, Losses:${score.losses}, Ties:${score.ties}`;
        }
        
    </script>
</body>
</html>